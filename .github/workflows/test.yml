name: Test branch detection

on:
  workflow_dispatch:
    inputs:
      branch:
        description: 'Target branch to be released'
        required: true
        default: staging

jobs:
  skipped-action:
    runs-on: ubuntu-latest
    if: github.event.inputs.branch != 'staging'
    steps:
      - run: echo ${{ github.event.inputs.branch }}
  show-branch:
    needs: skipped-action
    runs-on: ubuntu-latest
    steps:
      - run: echo ${{ github.event.inputs.branch }}